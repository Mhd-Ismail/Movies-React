(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{104:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},127:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(88),r=a.n(n),i=(a(99),a(100),a(101),a(104),a(6)),l=a.n(i),o=a(14),j=a(5),m=(a(106),a(107),a(18)),d=a.n(m),b=a(1),u=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],n=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=52bbcddeda849047525b51d6f8a12361");case 2:t=e.sent,a=t.data,c(a.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n()}),[]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row mt-5",children:[Object(b.jsxs)("div",{className:"col-md-2",children:[Object(b.jsx)("div",{className:"brdr mb-5 w-50"}),Object(b.jsx)("h2",{className:"title",children:"Trending Movies To watch right now "}),Object(b.jsx)("p",{className:"desc",children:"most watched movies "}),Object(b.jsx)("div",{className:"brdr mt-5 w-50"})]}),a.slice(0,11).map((function(e,t){return Object(b.jsx)("div",{className:"col-md-2 ",children:Object(b.jsxs)("div",{className:"items position-relative ",children:[Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,className:"img-fluid",alt:""}),Object(b.jsx)("h3",{children:e.title.slice(0,10)}),Object(b.jsxs)("p",{children:[e.overview.slice(0,20),"..."]}),Object(b.jsx)("div",{className:"voting",children:e.vote_average})]})},t)}))]})})})},h=(a(127),function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),a=t[0],c=t[1],n=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/trending/tv/day?api_key=52bbcddeda849047525b51d6f8a12361");case 2:t=e.sent,a=t.data,c(a.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n()}),[]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row mt-5",children:[Object(b.jsxs)("div",{className:"col-md-2",children:[Object(b.jsx)("div",{className:"brdr mb-5 w-50"}),Object(b.jsx)("h2",{className:"title",children:"Trending TV To watch right now "}),Object(b.jsx)("p",{className:"desc",children:"Most watched TV "}),Object(b.jsx)("div",{className:"brdr mt-5 w-50"})]}),a.slice(0,11).map((function(e,t){return Object(b.jsx)("div",{className:"col-md-2",children:Object(b.jsxs)("div",{className:"items position-relative",children:[Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/original"+e.poster_path,className:"img-fluid",alt:""}),Object(b.jsx)("h3",{children:e.name.slice(0,10)}),Object(b.jsxs)("p",{children:[e.overview.slice(0,20),"..."]}),Object(b.jsx)("div",{className:"voting",children:e.vote_average})]})},t)}))]})})})}),v=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u,{}),Object(b.jsx)(h,{})]})},p=a(12),O=function(e){var t=e.isLogged,a=e.logout;return Object(b.jsx)("div",{children:Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg",children:[Object(b.jsx)(p.b,{className:"navbar-brand",to:"/home",children:"Navbar"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item active",children:Object(b.jsx)(p.b,{className:"nav-link active",to:"/home",children:"Home"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(p.b,{className:"nav-link",to:"/movies",children:"Movies"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(p.b,{className:"nav-link",to:"/tv",children:"Tv"})})]})}),t?Object(b.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(b.jsx)("li",{className:"nav-item active",children:Object(b.jsx)(p.b,{onClick:a,className:"nav-link",to:"/login",children:"Logout"})})}):Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(b.jsx)("li",{className:"nav-item active",children:Object(b.jsx)(p.b,{className:"nav-link",to:"/register",children:"Register"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(p.b,{className:"nav-link",to:"/login",children:"Login"})})]})]})})},x=a(26),g=a(55),f=function(e){var t=e.getLoginToken,a=e.history,c=Object(s.useState)({email:"",password:""}),n=Object(j.a)(c,2),r=n[0],i=n[1],m=Object(s.useState)(""),u=Object(j.a)(m,2),h=u[0],v=u[1],p=function(e){i(Object(g.a)(Object(g.a)({},r),{},Object(x.a)({},e.target.name,e.target.value))),console.log(r)},O=function(){var e=Object(o.a)(l.a.mark((function e(s){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,d.a.post("https://route-egypt-api.herokuapp.com/signin",r);case 3:c=e.sent,console.log(c),"success"===c.data.message?(i({email:"",password:""}),t(c.data.token),a.push("/home")):v(c.data.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("p",{className:"text-center text-white",children:h}),Object(b.jsx)("h1",{className:"text-center mb-3",children:"Login"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("form",{className:"form-group w-50 m-auto",children:[Object(b.jsx)("input",{onChange:p,value:r.email,type:"email",className:"form-control mb-2",placeholder:"Email",name:"email"}),Object(b.jsx)("input",{onChange:p,value:r.password,type:"password",className:"form-control mb-2",placeholder:"Password",name:"password"}),Object(b.jsx)("button",{onClick:O,className:"btn btn-info w-100",children:"Login"})]})})]})})},N=a(20),w=a(24),k=function(e){var t=w.b({first_name:w.c().max(20).required("Please enter your name"),last_name:w.c().max(20).required("Please enter your name"),email:w.c().email("Email is invaild").required("Required"),password:w.c().min(6,"Password must be at least 6 charachters").required("Required"),age:w.a().required("Required")});return Object(b.jsx)("div",{className:"container mt-5",children:Object(b.jsx)(N.c,{initialValues:{first_name:"",last_name:"",email:"",password:"",age:""},validationSchema:t,onSubmit:function(t,a){d.a.post("https://route-egypt-api.herokuapp.com/signup",t).then((function(t){var s=t.data,c=s.errors;if("success"==s.message)a.resetForm(),e.history.replace("/login");else for(var n in c)a.setErrors(Object(x.a)({},n,c[n].message))}))},children:function(e){var t=e.errors,a=e.touched;return Object(b.jsxs)(N.b,{className:"w-50 m-auto",children:[Object(b.jsx)(N.a,{name:"first_name",className:"form-control mt-2",placeholder:"First name"}),t.first_name&&a.first_name?Object(b.jsx)("div",{className:"bg-danger mb-2",children:t.first_name}):null,Object(b.jsx)(N.a,{name:"last_name",className:"form-control mt-2",placeholder:"Last name"}),t.last_name&&a.last_name?Object(b.jsx)("div",{className:"bg-danger",children:t.last_name}):null,Object(b.jsx)(N.a,{name:"email",type:"email",className:"form-control mt-2",placeholder:"Email"}),t.email&&a.email?Object(b.jsx)("div",{className:"bg-danger",children:t.email}):null,Object(b.jsx)(N.a,{name:"password",type:"password",className:"form-control mt-2",placeholder:"Password"}),t.password&&a.password?Object(b.jsx)("div",{className:"bg-danger",children:t.password}):null,Object(b.jsx)(N.a,{name:"age",type:"number",className:"form-control mt-2",placeholder:"age"}),t.age&&a.age?Object(b.jsx)("div",{className:"bg-danger",children:t.age}):null,Object(b.jsx)("button",{type:"submit",className:"btn btn-info w-100 mt-2",children:"Submit"})]})}})})},y=a(2),_=function(e){var t=localStorage.getItem("userToken");return Object(b.jsx)("div",{children:t?Object(b.jsx)(y.b,{path:e.path,component:e.component}):Object(b.jsx)(y.a,{to:"/login"})})};var S=function(){var e=Object(y.g)(),t=Object(s.useState)(null),a=Object(j.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),m=i[0],d=i[1];Object(s.useEffect)((function(){var e=localStorage.getItem("userToken");n(e||null)}),[]),Object(s.useEffect)((function(){d(!!c)}),[c]);var p=function(){var t=Object(o.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.removeItem("userToken");case 2:n(null),e.push("/home");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.setItem("userToken",t);case 2:n(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{isLogged:m,logout:p}),Object(b.jsxs)(y.d,{children:[Object(b.jsx)(_,{path:"/home",component:v}),Object(b.jsx)(_,{path:"/movies",component:u}),Object(b.jsx)(_,{path:"/tv",component:h}),Object(b.jsx)(y.b,{path:"/login",children:Object(b.jsx)(f,{getLoginToken:x,history:e})}),Object(b.jsx)(y.b,{path:"/register",component:k}),Object(b.jsx)(y.a,{exact:!0,from:"/",to:"/register"})]})]})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(p.a,{children:Object(b.jsx)(S,{})})}),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.af2e38f8.chunk.js.map